"use strict";function email_test(e){return!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(e.value)}let selects=document.getElementsByTagName("select"),slideUpDuration=400;function selects_init(){for(let e=0;e<selects.length;e++){select_init(selects[e])}document.addEventListener("click",function(e){selects_close(e)}),document.addEventListener("keydown",function(e){27==e.which&&selects_close(e)})}function selects_close(e){const t=document.querySelectorAll(".select");if(!e.target.closest(".select"))for(let e=0;e<t.length;e++){const n=t[e],o=n.querySelector(".select__options");n.classList.remove("_active"),_slideUp(o,100)}}function select_init(e){const t=e.parentElement,n=e.getAttribute("class"),o=e.querySelector("option:checked");e.setAttribute("data-default",o.value),e.style.display="none",t.insertAdjacentHTML("beforeend",'<div class="select select_'+n+'"></div>'),e.parentElement.querySelector(".select").appendChild(e),select_item(e)}function select_item(e){const t=e.parentElement,n=t.querySelector(".select__item"),o=e.querySelectorAll("option"),i=e.querySelector("option:checked").text,s=e.getAttribute("data-type");n&&n.remove();let l="";l="input"==s?'<div class="select__value"><input autocomplete="off" type="text" name="form[]" value="'+i+'" data-error="Ошибка" data-value="'+i+'" class="select__input"></div>':'<div class="select__value"><span>'+i+"</span></div>",t.insertAdjacentHTML("beforeend",'<div class="select__item"><div class="select__title">'+l+'</div><div class="select__options">'+select_get_options(o)+"</div></div></div>"),select_actions(e,t)}function select_actions(e,t){const n=t.querySelector(".select__item"),o=t.querySelector(".select__options"),i=t.querySelectorAll(".select__option"),s=e.getAttribute("data-type"),l=t.querySelector(".select__input");n.addEventListener("click",function(){let e=document.querySelectorAll(".select");for(let t=0;t<e.length;t++){const o=e[t],i=o.querySelector(".select__options");o!=n.closest(".select")&&(o.classList.remove("_active"),_slideUp(i,100))}_slideToggle(o,100),t.classList.toggle("_active")});for(let n=0;n<i.length;n++){const o=i[n],r=o.getAttribute("data-value"),a=o.innerHTML;"input"==s?l.addEventListener("keyup",select_search):o.getAttribute("data-value")==e.value&&(o.style.display="none"),o.addEventListener("click",function(){for(let e=0;e<i.length;e++){i[e].style.display="block"}"input"==s?(l.value=a,e.value=r):(t.querySelector(".select__value").innerHTML="<span>"+a+"</span>",e.value=r,o.style.display="none")})}}function select_get_options(e){if(e){let t="";for(let n=0;n<e.length;n++){const o=e[n],i=o.value;if(""!=i){t=t+'<div data-value="'+i+'" class="select__option">'+o.text+"</div>"}}return t}}function select_search(e){e.target.closest(".select ").querySelector(".select__options");let t=e.target.closest(".select ").querySelectorAll(".select__option"),n=e.target.value.toUpperCase();for(let e=0;e<t.length;e++){let o=t[e];(o.textContent||o.innerText).toUpperCase().indexOf(n)>-1?o.style.display="":o.style.display="none"}}function selects_update_all(){let e=document.querySelectorAll("select");if(e)for(let t=0;t<e.length;t++){select_item(e[t])}}selects.length>0&&selects_init();let _slideUp=(e,t=slideUpDuration)=>{e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout(()=>{e.style.display="none",e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide")},t)},_slideDown=(e,t=slideUpDuration)=>{e.style.removeProperty("display");let n=window.getComputedStyle(e).display;"none"===n&&(n="block"),e.style.display=n;let o=e.offsetHeight;e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=o+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout(()=>{e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide")},t)},_slideToggle=(e,t=slideUpDuration)=>{if(!e.classList.contains("_slide"))return e.classList.add("_slide"),"none"===window.getComputedStyle(e).display?_slideDown(e,t):_slideUp(e,t)};window.onload=function(){document.body.classList.add("_hide"),document.body.style.overflow="hidden",this.setTimeout(()=>{document.body.classList.add("_loaded"),document.body.classList.remove("_hide"),document.body.style.overflow="auto"},500)};const isMobile={Android:function(){return navigator.userAgent.match(/Android/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return isMobile.Android()||isMobile.iOS()||isMobile.Windows()}},headerMenuIcon=document.querySelector(".header__menu-icon"),headerMenuBody=document.querySelector(".header__menu-body");headerMenuIcon&&headerMenuIcon.addEventListener("click",function(e){document.body.classList.toggle("_lock"),this.classList.toggle("_active"),headerMenuBody.classList.toggle("_active")});const asideMenuIcon=document.querySelector(".aside__menu-icon"),asideMenuBody=document.querySelector(".aside__menu-body");asideMenuIcon&&asideMenuIcon.addEventListener("click",function(e){document.body.classList.toggle("_lock"),this.classList.toggle("_active"),asideMenuBody.classList.toggle("_active")});const newsMenuIcon=document.querySelector(".news-submenu__icon"),newsMenuBody=document.querySelector(".news-submenu__body");newsMenuIcon&&newsMenuIcon.addEventListener("click",function(e){document.body.classList.toggle("_lock"),this.classList.toggle("_active"),newsMenuBody.classList.toggle("_active")});const ReadMore=(()=>{let e;return{settings:()=>({content:document.querySelectorAll(".aside-comment__text"),originalContentArr:[],truncatedContentArr:[],moreLink:"Читать далее",lessLink:"Свернуть"}),init(){e=this.settings(),this.bindEvents()},bindEvents(){ReadMore.truncateText()},countWords:e=>e.split(/\s+/).length,ellipseContent:(e,t)=>e.split(/\s+/).slice(0,t).join(" ")+"...",truncateText(){for(let t=0;t<e.content.length;t++){const n=e.content[t].innerHTML,o=e.content[t].dataset.rmWords,i=ReadMore.ellipseContent(n,o),s=ReadMore.countWords(n);if(e.originalContentArr.push(n),e.truncatedContentArr.push(i),o<s){e.content[t].innerHTML=e.truncatedContentArr[t];let n=t;ReadMore.createLink(n)}}ReadMore.handleClick(e.content)},createLink(t){const n=document.createElement("span");n.className="read-more__link-wrap",n.innerHTML=`<a id="read-more_${t}" class="comments-item__btn" style="cursor:pointer;">${e.moreLink}</a>`,e.content[t].parentNode.insertBefore(n,e.content[t].nextSibling)},handleClick(t){const n=document.querySelectorAll(".comments-item__btn");for(let o=0,i=n.length;o<i;o++)n[o].addEventListener("click",function(){let n=this.getAttribute("id").split("_")[1];t[n].classList.toggle("is-expanded"),"true"!==this.dataset.clicked?(t[n].innerHTML=e.originalContentArr[n],this.innerHTML=e.lessLink,this.dataset.clicked=!0):(t[n].innerHTML=e.truncatedContentArr[n],this.innerHTML=e.moreLink,this.dataset.clicked=!1)})},openAll(){const t=document.querySelectorAll(".comments-item__btn");for(let n=0;n<t.length;n++)content[n].innerHTML=e.truncatedContentArr[n],t[n].innerHTML=e.moreLink}}})();ReadMore.init();const loadmore=document.querySelector("#loadmore");let currentItems=2;loadmore&&loadmore.addEventListener("click",e=>{const t=document.querySelectorAll(".aside-comment");for(let e=currentItems;e<currentItems+3;e++)t[e]&&(t[e].style.display="block");(currentItems+=3)>=t.length&&(e.target.style.display="none")});const paginationList=document.querySelector(".pagination__list");let totalPages=20,page=10;function createPagination(e,t){let n,o="",i=t-1,s=t+1;t>1&&(o+=`<li class="pagination__list-item prev" onclick="createPagination(totalPages, ${t-1})"><div class="article-content__item-icon">\n            <svg width="7" height="12" viewBox="0 0 7 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n            <path d="M0.166238 6.22063L5.70186 11.5061C5.92272 11.7202 6.27985 11.7202 6.50071 11.5061L6.83435 11.1825C7.05522 10.9684 7.05522 10.6221 6.83435 10.408L2.02711 5.83333L6.82966 1.25871C7.05052 1.04456 7.05052 0.698269 6.82966 0.484118L6.49601 0.160613C6.27515 -0.0535377 5.91802 -0.0535377 5.69716 0.160613L0.161539 5.44604C-0.0546227 5.66019 -0.0546227 6.00648 0.166238 6.22063Z" fill="#A7B0BC"/>\n            </svg>\n        </div></li>`),t>2&&(o+='<li class="pagination__list-item first num" onclick="createPagination(totalPages, 1)"><span>1</span></li>',t>3&&(o+='<li class="pagination__list-item dots"><span>...</span></li>')),t==e?i-=2:t==e-1&&(i-=1),1==t?s+=2:2==t&&(s+=1);for(let l=i;l<=s;l++)l>e||(0==l&&(l+=1),o+=`<li class="pagination__list-item num ${n=t==l?"_active":""}" onclick="createPagination(totalPages, ${l})"><span>${l}</span></li>`);return t<e-1&&(t<e-2&&(o+='<li class="pagination__list-item dots"><span>...</span></li>'),o+=`<li class="pagination__list-item last num" onclick="createPagination(totalPages, ${e})"><span>${e}<span></li>`),t<e&&(o+=`<li class="pagination__list-item next" onclick="createPagination(totalPages, ${t+1})"><div class="article-content__item-icon">\n            <svg width="7" height="12" viewBox="0 0 7 12" fill="none"\n                xmlns="http://www.w3.org/2000/svg">\n                <path\n                    d="M6.83376 6.22063L1.29814 11.5061C1.07728 11.7202 0.720147 11.7202 0.499286 11.5061L0.165646 11.1825C-0.0552152 10.9684 -0.0552152 10.6221 0.165646 10.408L4.97289 5.83333L0.170345 1.25871C-0.050516 1.04456 -0.050516 0.698269 0.170345 0.484118L0.503986 0.160613C0.724846 -0.0535377 1.08198 -0.0535377 1.30284 0.160613L6.83846 5.44604C7.05462 5.66019 7.05462 6.00648 6.83376 6.22063Z"\n                    fill="#A7B0BC" />\n            </svg>\n        </div></li>`),paginationList.innerHTML=o,o}paginationList&&(paginationList.innerHTML=createPagination(totalPages,page));